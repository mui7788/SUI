<!DOCTYPE html> 
<html> 
    <head> 
        <META http-equiv="X-UA-Compatible" content="IE=edge"/>
        <META content="text/html; charset=UTF-8" http-equiv=Content-Type>
        <style>
            .ms-controller
            { 
                visibility: hidden 
            } 
        </style>
        <script src="../../../avalon.js"></script> 
        <script>
            avalon.library("sui", {});
            require(["./sui/input/datepicker/sui.datepicker","./sui/input/textbox/sui.textbox"], function () {
                var vm = avalon.define({
                    $id: "test",
                    value1: [],
                    value2:"",
                    index: "",
                    $opts1: {
                        inputid: "name",
                        title: "请输入姓",
                        value: "",
                        msg: "请输入姓名",
                        require: true,
                        maxLength: 10,
                        regexType: "alpha_dash",
                        styleType: "normal",
                        type: "password",
                        onChange: function (n)
                        {
                            vm.value = n;
                        }
                    },
                      $opts2: {
                        inputid: "date1",
                        title: "开始日期",
                        value: "",
                        msg: "请输入开始日期",
                        require: true,

                        isShowTime:false,
                        onChange: function (n)
                        {
                            vm.value2 = n;
                        }
                    },
                    $opts3: {
                        inputid: "date2",
                        title: "结束时间",
                        value: "2015-12-18 22:12:34",
                        msg: "请输入结束时间",
                        require: true,
                        isShowTime:true,
                        isShowSecond:false,
                        onChange: function (n)
                        {
                            vm.value2 = n;
                        }
                    },
                    $opts4: {
                        inputid: "date3",
                        title: "开始时间",
                        value: "",
                        msg: "请输入开始时间",
                        require: true,
                        isShowTime:true,
                        isShowSecond:true,
                        onChange: function (n)
                        {
                            vm.value2 = n;
                        }
                    },
                    getValue: function ()
                    {
                        try
                        {
                            alert(avalon.vmodels.date2.getValue())
                        }
                        catch (ex)
                        {
                            alert(ex)
                        }
                    },
                    showModel: function ()
                    {
                        alert(JSON.stringify(vm.$model))
                    },
                    setFocus:function()
                    {
                        avalon.vmodels.date2.setFocus();
                    }
                })
                avalon.scan()

            })
        </script>

    </head>   
    <body ms-controller="test" class="ms-controller">
        <div><sui:textbox config="$opts1" $id="a"></sui:textbox></div>
        <div><sui:datepicker config="$opts2" $id="date1"></sui:datepicker></div>
        <div><sui:datepicker config="$opts3" $id="date2"></sui:datepicker></div>
        <div><sui:datepicker config="$opts4" $id="date3"></sui:datepicker></div>
        <input type="button" value="setFocus" ms-click="setFocus">
        <input type="button" value="getValue" ms-click="getValue">
{{value2}}
    </body>



